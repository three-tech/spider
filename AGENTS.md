
阅读 ./docs/PRD.md 了解项目背景和需求。

# 看板工作流

本项目使用看板工作流进行任务管理，请严格遵守以下规范。

统一 Kanban 看板列（项目级）：

* **Backlog**（需求池）
* **To Do**（Sprint/当前周期待办）
* **In Progress**（开发中）
* **In Review**（代码审查）
* **Testing / QA**（QA 测试中）
* **Blocked**（阻塞）
* **Done**（验收通过）

> 每个任务卡必须包含：目标、子任务、开发者、估算复杂度（S/M/L）、验收标准、测试用例、相关文件/设计稿、依赖任务。

## 任务状态定义（严格）

* **开发（In Progress）**：除了完成任务外，还需包含单元测试（若适用）。
* **Code Review（In Review）**：PR 描述需写清修改点、运行方式、影响面、回归风险；至少 1 名审查者通过（由你切换身份扮演）。
* **QA（Testing）**：QA 按测试用例执行，记录 BUG，BUG 分级（P0/P1/P2）。所有 P0 必须解决，P1 需评估。QA 完成后 QA 在卡片上写“QA Passed”（由你切换身份扮演）。
* **验收/Done**：产品经理或维护者对接收准则（Acceptance Criteria）进行最终验收，若通过，移动卡片到 Done。（由你切换身份扮演）

Kanban 数据记录在 `./kanban/` 目录（Markdown 格式）.
- `./kanban/board.md` 维护看板状态。
- `./kanban/issues/` 目录存放每个任务的详细描述（Markdown）, 每个任务一个文件，文件名为任务 ID，例如 `A-1-initialize-repo.md`。此文件内不但要记录任务描述，还要记录开发过程中遇到的问题与解决方案、BUG 记录、Review 意见等。

---

请检查 ./kanban/ 目录：
- 如果不存在，请根据 PRD 创建初始看板和任务文件。
- 如果存在，请根据看板上的任务状态，继续推进任务，或遵照用户本次的指示进行工作。

## 编码规范
 **编码规范与约定**，以及 **TDD 是否适用的评估**。这些内容是专门写给编程 Agent 的（即自动化开发工具 / AI 编码助手），以确保整个项目风格统一、可维护、可扩展。

---

**角色你是一个经验丰富的软件架构师，请按照以下专业标准生成高质量代码：**

## 📋 **总体要求**
- 代码必须符合**生产级质量标准**
- 遵循**SOLID设计原则**和**设计模式**
- 确保**高可读性、高可维护性、高可测试性**

## 🔧 **代码质量约束**

### 1. 函数设计
- 函数长度不超过**80行**
- 圈复杂度不超过**10**
- 单一职责，每个函数只做一件事
- 参数数量不超过**5个**

### 2. 命名规范
- 使用**驼峰命名法**
- 函数名：动词开头，描述具体动作
- 变量名：名词，准确表达含义
- 类名：名词，首字母大写
- 常量：全大写，下划线分隔

### 3. 代码结构
- 模块化设计，职责分离
- 避免深层嵌套（不超过3层）
- 使用早期返回减少嵌套
- 合理使用设计模式
- 代码执行有明显的步骤，增强可读性

### 4. 错误处理
- 统一的错误处理机制
- 明确的错误信息和错误码
- 优雅的异常捕获和处理
- 输入参数验证

## 📝 **注释与文档**

### 1. 代码注释
- 复杂算法必须有详细注释
- 公共API必须有完整的文档注释
- 关键业务逻辑需要解释意图
- 避免无意义的注释

### 2. 文档标准
- 函数注释包含：功能描述、参数说明、返回值、异常
- 类注释包含：类职责、使用示例
- 重要配置需要说明

## 🚀 **性能与安全**

### 1. 性能优化
- 避免不必要的内存分配
- 合理使用缓存
- 批量操作减少IO
- 异步处理耗时任务


## 📊 **输出格式**
- 代码格式化，缩进一致
- 适当的空行分隔逻辑块
- 导入/引用语句有序排列
- 文件结构清晰


请基于以上标准生成专业、可维护的生产级代码。
---


👉 **不采用严格 TDD，但测试必须同步开发，尤其是核心并发语义的单元测试。**
